<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>How to build open62541 from sources - Andrey&#39;s Notes</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="My Template.">
	<meta name="manuscript" content="">
		<meta property="og:title" content="How to build open62541 from sources" />
<meta property="og:description" content="My Template." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/labview/opc_ua/part2-build_open62541/" /><meta property="article:section" content="labview" />
<meta property="article:published_time" content="2024-04-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-04-17T00:00:00+00:00" />



	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Andrey&#39;s Notes" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Andrey&#39;s Notes</div>
					<div class="logo__tagline">Just my online notepad</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">How to build open62541 from sources</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-04-17T00:00:00Z">April 17, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/programming/" rel="category">Programming</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Step by step guide - how to build <a href="https://www.open62541.org">open62541</a> from sources as Dynamic Link Library.</p>
<p>This guide based on the official <a href="https://www.open62541.org/doc/master/building.html">Build Instructions</a>, but slightly more detailed.</p>
<h3 id="get-latest-sources">Get latest sources</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#555">&gt;</span>git clone https://github.com/open62541/open62541
</span></span><span style="display:flex;"><span><span style="color:#888">Cloning into &#39;open62541&#39;...
</span></span></span><span style="display:flex;"><span><span style="color:#888">remote: Enumerating objects: 74781, done.
</span></span></span><span style="display:flex;"><span><span style="color:#888">remote: Counting objects: 100% (809/809), done.
</span></span></span><span style="display:flex;"><span><span style="color:#888">remote: Compressing objects: 100% (329/329), done.
</span></span></span><span style="display:flex;"><span><span style="color:#888">remote: Total 74781 (delta 526), reused 642 (delta 457), pack-reused 73972
</span></span></span><span style="display:flex;"><span><span style="color:#888">Receiving objects: 100% (74781/74781), 53.19 MiB | 2.52 MiB/s, done.
</span></span></span><span style="display:flex;"><span><span style="color:#888">Resolving deltas: 100% (56327/56327), done.
</span></span></span><span style="display:flex;"><span><span style="color:#888"></span><span style="color:#555">&gt;</span><span style="color:#0086b3">cd</span> open62541
</span></span></code></pre></div><h3 id="tools-needed">Tools needed</h3>
<p>As compiler — the latest <a href="https://visualstudio.microsoft.com/vs/professional/">Microsoft Visual Studio Professional 2022</a> <a href="https://learn.microsoft.com/en-us/visualstudio/releases/2022/release-notes#1796--visual-studio-2022-version-1796">v.17.9.6</a> (free Visual Studio Community should be OK as well).</p>
<p>Additional tools:</p>
<p><a href="https://cmake.org/download/">CMake</a> <a href="https://github.com/Kitware/CMake/releases/download/v3.29.2/cmake-3.29.2-windows-x86_64.msi">v.3.29.2</a>.</p>
<p><a href="https://www.python.org/downloads/">Python</a> <a href="https://www.python.org/ftp/python/3.12.3/python-3.12.3-amd64.exe">v.3.12.3</a>.</p>
<p><a href="https://slproweb.com/products/Win32OpenSSL.html">OpenSSL</a> v.3.3.0 (<a href="https://slproweb.com/download/Win64OpenSSL-3_3_0.msi">Win64</a> / <a href="https://slproweb.com/download/Win32OpenSSL-3_3_0.msi">Win32</a>).</p>
<p>Everything installed &ldquo;by default&rdquo;.</p>
<p>OpenSSL I prefer to install in dedicated folder</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417201418494.png" alt='image-20240417201418494' />

</p>
<p><a href="https://git-scm.com/download/win">Git for Windows</a> must be installed as well (<a href="https://github.com/git-for-windows/git/releases/download/v2.44.0.windows.1/Git-2.44.0-64-bit.exe">v.2.44.0</a>)</p>
<h3 id="preparation">Preparation</h3>
<p>After installation Install python-six with the pip package manager:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#555">&gt;</span>pip install six
</span></span></code></pre></div><h3 id="build-from-command-line">Build from command line</h3>
<p>Assumed that you already in open62541 directory. If not, then</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#555">&gt;</span><span style="color:#0086b3">cd</span> &lt;path-to&gt;<span style="color:#d14">\o</span>pen62541
</span></span></code></pre></div><p>Then</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#555">&gt;</span>mkdir build
</span></span><span style="display:flex;"><span><span style="color:#555">&gt;</span><span style="color:#0086b3">cd</span> build
</span></span><span style="display:flex;"><span><span style="color:#555">&gt;</span><span style="color:#d14">&#34;C:\Program Files\CMake\bin\cmake.exe&#34;</span> .. -G <span style="color:#d14">&#34;Visual Studio 17 2022&#34;</span>
</span></span></code></pre></div><p>Of course, of you have different version of Visual Studio, then the last command will be different, for example, for Visual Studio 2015 &ldquo;Visual Studio 14 2015&rdquo;, other versions:</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417224004397.png" alt='image-20240417224004397' />

</p>
<p>In case of success you should see something like that:</p>
<pre tabindex="0"><code>-- Selecting Windows SDK version 10.0.22621.0 to target Windows 10.0.22631.
-- The C compiler identification is MSVC 19.39.33523.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: C:/Program Files/Microsoft Visual Studio/2022/Professional/VC/Tools/MSVC/14.39.33519/bin/Hostx64/x64/cl.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Found Python3: C:/Program Files/Python312/python.exe (found version &#34;3.12.3&#34;) found components:  Interpreter
-- Found Git: C:/Program Files/Git/cmd/git.exe (found version &#34;2.44.0.windows.2&#34;)
-- open62541 Version: v1.4.0-rc2-386-gb1f5e0ea5
-- The selected architecture is: win32
-- CMAKE_BUILD_TYPE not given; setting to &#39;Debug&#39;
-- Could NOT find Sphinx (missing: SPHINX_EXECUTABLE)
-- Could NOT find LATEX (missing: LATEX_COMPILER)
-- Configuring done (5.0s)
-- Generating done (0.1s)
-- Build files have been written to: C:/Users/Andrey/Desktop/open62541/build
</code></pre><p>Now in  \build folder you should have Solution named &ldquo;open62541.sln&rdquo;.</p>
<h3 id="build-from-gui">Build from GUI</h3>
<p>Initially everything will be red:</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417200342508.png" alt='image-20240417200342508' />

</p>
<p>Now I will turn ON the Option BUILD_SHARED_LIBS, as well as SSL, and some other which could be useful:</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417202103126.png" alt='image-20240417202103126' />

</p>
<p>And hit Generate.</p>
<p>The log file</p>
<pre tabindex="0"><code>Selecting Windows SDK version 10.0.22621.0 to target Windows 10.0.22631.
open62541 Version: v1.4.0-rc2-386-gb1f5e0ea5
The selected architecture is: win32
Could NOT find Sphinx (missing: SPHINX_EXECUTABLE) 
Could NOT find LATEX (missing: LATEX_COMPILER) 
CMake Warning at examples/CMakeLists.txt:195 (MESSAGE):
  Can&#39;t build custom datatype examples on WIN32 when BUILD_SHARED_LIBS
  enabled.  Skipping  custom_datatype_client and custom_datatype_server!

CMake Warning at examples/CMakeLists.txt:235 (message):
  Build option BUILD_SHARED_LIBS not supported for standalone subscriber and realtime examples.  Skipping these examples.

Configuring done (1.0s)
Generating done (0.8s)
</code></pre><h3 id="compile-in-visual-studio">Compile in Visual Studio</h3>
<p>Open Solution, select library and rebuild:</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417215047488.png" alt='image-20240417215047488' />

</p>
<p>If everything goes well, you will see at the end:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span><span style="color:#888">9&gt;   Creating library C:/Users/Andrey/Desktop/open62541/build/bin/Release/open62541.lib and ...
</span></span></span><span style="display:flex;"><span><span style="color:#888">9&gt;open62541.vcxproj -&gt; C:\Users\Andrey\Desktop\open62541\build\bin\Release\open62541.dll
</span></span></span><span style="display:flex;"><span><span style="color:#888">========== Rebuild All: 9 succeeded, 0 failed, 0 skipped ==========
</span></span></span></code></pre></div><h3 id="links">Links</h3>
<h1 id="cmake-projects-in-visual-studio">CMake projects in Visual Studio</h1>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>In latest Windows 11 attempt to install msi will cause this message:</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417201054259.png" alt='image-20240417201054259' />

</p>
<p>Easiest way to fix is set &ldquo;Allowed&rdquo; flag in the Properties (sorry for German screenshot)</p>
<p>
	
	<img class="img-fluid" src="../assets/image-20240417201156800.png" alt='image-20240417201156800' />

</p>
<p><a href="https://stackoverflow.com/questions/54985518/build-open62541-dll-with-visual-studio-2017">https://stackoverflow.com/questions/54985518/build-open62541-dll-with-visual-studio-2017</a></p>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/opcua/" rel="tag">OPCUA</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/labview/opc_ua/part1-setup_br/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">How to setup simple OPC UA Server in B&amp;R AS</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 Andrey Dmitriev.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo v.0.124.1</a> and modified <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>